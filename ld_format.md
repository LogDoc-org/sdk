## Формат передачи данных 
Каждая отдельная структура LogDoc состоит из неопределённого количества пар ключ/значение (как переменные environment). Однако, отличие от пар environment, значения могут 
содержать NUL-ы и бинарные данные. Ключи не могут содержать символ `'='`, символы перевода строки, любые другие управляющие символы и не-ASCII символы) и не могут быть 
пустыми.   

Каждая пара ключ/значение сериализуется одним из двух способов:

В первом случае между ключом и значением вставляется символ `=`, а в конце добавляется символ перевода строки `\n` (ASCII код 10). То есть, например для ключа `FOO` и значения 
`BAR` сериализованное значение будет: `F,O,O,=,B,A,R,\n`

Второй метод используется, когда значение содержит байт `\n`. В этом случае ключ сериализуется как есть, к нему добавляется байт `\n`, затем добавляется big-endian unsigned 
32bit integer, кодирующий длину значения, затем само значение и в конце добавляется ещё один байт `\n`. То есть, например для той же пары `FOO`:`BAR` сериализация этим способом 
будет выглядеть так: `F,O,O,\n,\000,\000,\000,\003,B,A,R,\n`

Если значение в паре ключ/значение содержит символ перевода строки `\n`, то эта пара обязательно должна быть сериализована вторым способом. В ином случае метод сериализации 
остаётся на выбор исполнителя. Однако, рекомендуется использовать первый метод везде, где это возможно - это облегчает дебаг и визуальный просмотр структур.

Стоит обратить внимание на несколько ключей, которые имеют особое значение в логике LogDoc: `trcv, ip`. Эти ключи неявно указываются библиотеками 
LogDoc и в дальнейшем используются для обеспечения бизнес-логики при обработке структур данных. В абсолютном большинстве случаев, даже если эти ключи используются клиентами - 
они будут перезаписаны модулями LogDoc служебными значениями. 

Самая важная пара, которая должна присутствовать в каждой отдельной структуре это пара с ключом `msg`. Значение из этой пары считается телом структуры и без неё структура в 
целом будет проигнорирована.

Менее значимые, не требуемые, но ожидаемые ключи:
- `tsrc`: локальное время создания структуры, в формате `ггммддччммссннн`
- `pid`: уникальный ID процесса - родителя структуры
- `src`: имя логгера (инструмента) в формате *package name conventions* ([a-z0-9.-]+)
- `lvl`: уровень структуры - один байт; от 0 до 6 [DEBUG, INFO, LOG, WARN, ERROR, SEVERE, PANIC]
- `app`: имя приложения - родителя структуры. Любое самоназв[ld_format.md](ld_format.md)ание.  
*Эти пары будут использованы для показа и обработки структур, при наличии.*
